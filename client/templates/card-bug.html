---
name: card-bug
url: /card-bug
controller: CardBugCtrl
---
<div class="grid-block small-6" style="padding: 1em;">
    <form name="cardForm">
        <label>
            Name
            <input type="text" placeholder="Add button does not redirect to the create form" ng-model="card.name">
        </label>

        <label>
            Page
            <input type="url" placeholder="http://www.example.com" ng-model="card.page">
        </label>

        <label>
            Context
            <textarea placeholder="Logged in as Akkroo member." ng-model="card.context"></textarea>

            <p>Give the context of your environment.</p>

        </label>

        <label>
            Actions
			<textarea placeholder="Went to the 'display' page. Clicked on the 'Add' button."
                      ng-model="card.actions"></textarea>

            <p>Describe how to reproduce the bug.</p>
        </label>

        <label>
            Result
            <textarea placeholder="Nothing happens." ng-model="card.result"></textarea>
        </label>
        <label>
            Expected
            <textarea placeholder="I should have been redirected." ng-model="card.expected"></textarea>
        </label>

        <label>
            Labels
            <ui-select multiple ng-model="card.idLabels" theme="select2">
                <ui-select-match placeholder="Select label...">{{$item.name}}</ui-select-match>
                <ui-select-choices repeat="label.id as label in form.labels | filter: $select.search">
                    <div ng-bind-html="label.name | highlight: $select.search"></div>
                </ui-select-choices>
            </ui-select>
        </label>

        <label>
            Members
            <ui-select multiple ng-model="card.idMembers" theme="select2">
                <ui-select-match placeholder="Select member...">{{$item.fullName}}</ui-select-match>
                <ui-select-choices repeat="member.id as member in form.members | filter: $select.search">
                    <div ng-bind-html="member.fullName | highlight: $select.search"></div>
                </ui-select-choices>
            </ui-select>
        </label>

        <input type="submit" class="button success" value="submit"
               ng-click="submitCard()"/>
    </form>
</div>
<div class="grid-block small-6" style="position: relative">
    <div class="preview">
        <div class="preview-card">
            <h1 class="preview-title">{{card.name}}</h1>

            <div class="preview-metadata grid-block">
                <div class="grid-block">
                    <div>Members</div>
                    <ul>
                        <li ng-repeat="id in card.idMembers">{{id}}</li>
                    </ul>
                </div>
                <div class="grid-block">
                    <div>Labels</div>
                    <ul>
                        <li ng-repeat="id in card.idLabels">{{id}}</li>
                    </ul>
                </div>
            </div>
            <div class="markdown">
                <span>Description</span>
                <div btf-markdown="markdown">
                </div>
            </div>
        </div>
    </div>
</div>
